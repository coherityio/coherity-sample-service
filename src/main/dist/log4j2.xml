<?xml version="1.0" encoding="UTF-8"?>
<Configuration>
	<Appenders>
		<Console name="console" target="SYSTEM_OUT">
			<PatternLayout pattern="%style{%d{ISO8601}}{black} %highlight{%-5level }[%style{%t}{bright,blue}] %style{%C{1.}}{bright,yellow} %notEmpty{userId:%X{userId}} %notEmpty{application-synonym:%X{appSynonym}} %notEmpty{tenantId:%X{tenantId}} %notEmpty{orgs:%X{orgs}} %notEmpty{traceId:%X{traceId}}  : %msg%n%throwable" />
		</Console>
		<File name="LogFile" fileName="/var/log/server.log" append="false">
			<PatternLayout>
				<!-- https://logging.apache.org/log4j/2.x/manual/appenders.html -->
				<!-- logging level: %-5level or %p -->
				<!-- message: %msg or %m -->
				<!-- logger: %c -->
				<!-- logging class: %C -->
				<!-- logging class line: %l -->
				<Pattern>%d %-5level [%t] %c{1.}: %m%notEmpty{[%nexception:%throwable]}%n</Pattern>
			</PatternLayout>
		</File>
	</Appenders>

	<Loggers>
		<Root level="INFO" additivity="false">
			<!-- AppenderRef ref="LogFile" / -->
			<AppenderRef ref="console" />
		</Root>

		<Logger name="io.coherity" level="DEBUG" additivity="false">
			<!-- AppenderRef ref="LogFile" / -->
			<AppenderRef ref="console" />
		</Logger>

	</Loggers>
	
</Configuration>
